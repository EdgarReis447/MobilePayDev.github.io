"use strict";(self.webpackChunkmobile_pay_merchant_payments_documentation=self.webpackChunkmobile_pay_merchant_payments_documentation||[]).push([[9168],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>y});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(a),y=o,h=d["".concat(s,".").concat(y)]||d[y]||u[y]||r;return a?n.createElement(h,i(i({ref:t},c),{},{components:a})):n.createElement(h,i({ref:t},c))}));function y(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,i=new Array(r);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var p=2;p<r;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},71245:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var n=a(87462),o=(a(67294),a(3905));const r={sidebar_position:2},i="Authentication",l={unversionedId:"authentication",id:"authentication",title:"Authentication",description:"We are providing two different options for authentification. The first one is OAuth which is used to get authenticated and scoped access to any MobilePay merchant account. Use them when your application will access resources on behalf of multiple MobilePay merchant accounts, i.e. you are an integrator. Second option is API keys. They are used to get unlimited access to resources in your merchant account. But first, you need to onboard your app in our developer portal.",source:"@site/docs/authentication.md",sourceDirName:".",slug:"/authentication",permalink:"/MobilePay-Payments-API/docs/authentication",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"docsSidebar",previous:{title:"Introduction",permalink:"/MobilePay-Payments-API/docs/introduction"},next:{title:"Build Basics",permalink:"/MobilePay-Payments-API/docs/build-basics"}},s={},p=[{value:"Creating an App in developer portal",id:"creating-an-app-in-developer-portal",level:2},{value:"Get an OAuth access token",id:"get-an-oauth-access-token",level:2},{value:"API keys",id:"api-keys",level:2},{value:"Securing API key",id:"securing-api-key",level:3},{value:"Get an API key",id:"get-an-api-key",level:3},{value:"Usage",id:"usage",level:2}],c={toc:p};function u(e){let{components:t,...r}=e;return(0,o.kt)("wrapper",(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"authentication"},"Authentication"),(0,o.kt)("p",null,"We are providing two different options for authentification. The first one is ",(0,o.kt)("a",{parentName:"p",href:"#get-an-oauth-access-token"},"OAuth")," which is used to get authenticated and scoped access to any MobilePay merchant account. Use them when your application will access resources on behalf of multiple MobilePay merchant accounts, i.e. you are an integrator. Second option is ",(0,o.kt)("a",{parentName:"p",href:"#api-keys"},"API keys"),". They are used to get unlimited access to resources in your merchant account. But first, you need to onboard your app in our developer portal."),(0,o.kt)("h2",{id:"creating-an-app-in-developer-portal"},"Creating an App in developer portal"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Log-in to developer portal"),". Go to ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mobilepay.dk/"},"developer portal")," and log in with your credentials.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Create an app in the developer portal"),". Go to My Apps > Create new App to register a new application. You need to supply the ",(0,o.kt)("inlineCode",{parentName:"p"},"x-ibm-client-id")," when calling APIs. You should always store the ",(0,o.kt)("inlineCode",{parentName:"p"},"x-ibm-client-id")," in a secure location, and never reveal it publicly.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Subscribe the app to products."),' Go to the "APIs" section and subscribe to the following api products:'),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Payments"),(0,o.kt)("li",{parentName:"ul"},"Webhooks")))),(0,o.kt)("h2",{id:"get-an-oauth-access-token"},"Get an OAuth access token"),(0,o.kt)("p",null,"As a developer, you can use MobilePay APIs to manage resources on behalf of merchants. The OAuth API lets you request specific permissions from MobilePay merchants to manage their resources and get access tokens to call APIs on their behalf. "),(0,o.kt)("p",null,"Using the access tokens you receive using OAuth, you can build applications that integrate with MobilePay."),(0,o.kt)("p",null,"More information on implementation and best practices can be found ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mobilepay.dk/developersupport/openid/"},"here.")),(0,o.kt)("h2",{id:"api-keys"},"API keys"),(0,o.kt)("h3",{id:"securing-api-key"},"Securing API key"),(0,o.kt)("admonition",{type:"important"},(0,o.kt)("p",{parentName:"admonition"},"Store your API keys private and secure and do not share with someone you don't trust. Anyone with your API key can access all MobilePay APIs that are in scope of that key on behalf of you.")),(0,o.kt)("p",null," Keep in mind on securing keys: "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Do not leave API keys in publicly accessible areas such as GitHub, client-side code, etc."),(0,o.kt)("li",{parentName:"ul"},"Delete your API keys if you suspect that unauthorized people know them. Note that deleted API keys will not work. In that case, you will need to create new API keys and update authorization headers."),(0,o.kt)("li",{parentName:"ul"},"Delete old API keys you are no longer using to avoid any external exposure."),(0,o.kt)("li",{parentName:"ul"},"Regenerate your API keys periodically."),(0,o.kt)("li",{parentName:"ul"},"Restrict your API key only to APIs you are going to use.")),(0,o.kt)("h3",{id:"get-an-api-key"},"Get an API key"),(0,o.kt)("p",null,"You can view and manage your API keys in the ",(0,o.kt)("a",{parentName:"p",href:"https://portal.mobilepay.dk/settings/apikeys"},"MobilePay portal"),". Meanwhile, sandbox keys are generated in the ",(0,o.kt)("a",{parentName:"p",href:"https://sandprod-portal.mobilepay.dk/settings/apikeys"},"sandbox version of MobilePay portal")," and will be applicable only on sandbox environment."),(0,o.kt)("p",null,"When creating an API key you need to select APIs which will be accessible using this key. You can also assign it a name. Once API key is generated, it is not  possible to change the scope or the name. Modifications must be carried out by creating a new API key. Lastly, you are fully responsible for managing the lifecycle of the keys you have created."),(0,o.kt)("p",null,(0,o.kt)("img",{src:a(53751).Z,width:"600",height:"436"})),(0,o.kt)("h2",{id:"usage"},"Usage"),(0,o.kt)("p",null,"To perform successfull authorization provide:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"API_Key")," - generated as described before (OAuth access token or Api key)"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"client_id")," - acquired in ",(0,o.kt)("a",{parentName:"li",href:"https://developer.mobilepay.dk/application/"},"developer portal")," by going to My Apps page.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},'-H "Authorization: Bearer {API_Key}"\n-H "x-ibm-client-id: {client_id}"\n')))}u.isMDXComponent=!0},53751:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/portal-api-keys-ab235990bbe6f3cefe99c5c586260f1f.gif"}}]);